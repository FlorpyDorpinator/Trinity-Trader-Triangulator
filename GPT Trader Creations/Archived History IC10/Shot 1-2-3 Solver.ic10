move r3 0
move r15 0
move r7 0
move r12 0
move r11 180 #Change this to the heading on your compass when facing the Dish Controls!
#clr db      #South will be 180, East 90, North 0, West 270 (which hdg is Dish facing)
InitWaitLoop:
    yield
    get r12 db 12
    beqz r12 InitWaitLoop
Init:
    yield
    add r15 r3 r15
    get r14 db r15
    sub r15 r3 r15
    move rr15 r14
    add r15 1 r15
    brlt r15 3 -5
    move r14 0.017453292519943295
    move r6 r2
    mul r6 r6 r14
    cos r6 r6
    sub r8 r11 r0
    mul r8 r8 r14
    sub r9 90 r1
    mul r9 r9 r14
    cos r4 r9
    sin r5 r9
    sin r2 r8
    mul r0 r2 r5
    move r1 r4
    cos r2 r8
    mul r2 r2 r5
    lbn r10 HASH("StructureCircuitHousingCompact") HASH("tri_basis") ReferenceId 1
    put r10 r7 r0
    add r7 1 r7
    put r10 r7 r1
    add r7 1 r7
    put r10 r7 r2
    add r7 1 r7
    put r10 r7 r6
    add r7 1 r7
    beq r7 12 Reset
    move r15 0
    add r3 3 r3
j Init

Reset:
    put r10 12 1
    put db 12 0
    move r3 0
    move r7 0
    move r12 0
    move r15 0
j InitWaitLoop